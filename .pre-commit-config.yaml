repos:
  - repo: https://github.com/tekwizely/pre-commit-golang
    rev: v1.0.0-rc.1
    hooks:
      # Stage 1: Auto-format with gofumpt (stricter than gofmt)
      - id: go-fumpt
        args: [-w]

      # Stage 2: Ensure go.mod and go.sum are tidy
      - id: go-mod-tidy

      # Stage 3: Generate sqlc code
      - id: my-cmd-repo
        name: sqlc generate
        args: [sqlc, generate]
        files: \.(sql|yaml)$
